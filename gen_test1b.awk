BEGIN {
  FS=","

  col[2,1]="CPU21a"
  col[2,2]="CPU12e"
  col[2,3]="CPU1"
  col[2,4]="CPU22a"
  col[2,5]="CPU21b"
  col[2,6]="CPU19"
  col[2,7]="CPU12f"
  col[2,8]="CPU18a"
  col[2,9]="CPU3a"
  col[2,10]="CPU18c"
  col[2,11]="CPU3c"
  col[2,12]="CPU20"
  col[2,13]="CPU6a"
  col[2,14]="CPU5b"
  col[2,15]="CPU6b"
  col[2,16]="CPU9"
  col[2,17]="CPU11a"
  col[2,18]="CPU13"
  col[2,19]="CPU10b"
  col[2,20]="CPU5c"
  col[2,21]="CPU8a"
  col[2,22]="CPU12a"
  col[2,23]="CPU14"
  col[2,24]="CPU10c"
  col[2,25]="CPU11b"
  col[2,26]="CPU10d"
  col[2,27]="CPU11c"
  col[2,28]="CPU8b"
  col[2,29]="CPU15"
  col[2,30]="CPU12b"
  col[2,31]="CPU16"
  col[2,32]="CPU12c"
  col[2,33]="CPU17"

  col_l[2]=33

  col[3,1]="RAM3"
  col[3,2]="RAM14"
  col[3,3]="RAM15"
  col[3,4]="RAM4"
  col[3,5]="RAM5"
  col[3,6]="RAM16"
  col[3,7]="RAM17"
  col[3,8]="RAM6"
  col[3,9]="RAM7"
  col[3,10]="RAM8"
  col[3,11]="RAM9"
  col[3,12]="RAM10"
  col[3,13]="RAM11"
  col[3,14]="RAM12"
  col[3,15]="RAM13"
  col[3,16]="RAM2"

  col_l[3]=16

  col[4,1]="S36"
  col[4,2]="S37"
  col[4,3]="S50"
  col[4,4]="S38"
  col[4,5]="S51"
  col[4,6]="S39"
  col[4,7]="S53"
  col[4,8]="S54"
  col[4,9]="S55"
  col[4,10]="S56"
  col[4,11]="S70"
  col[4,12]="S57"
  col[4,13]="S71"
  col[4,14]="S58"
  col[4,15]="S59"
  col[4,16]="S73"
  col[4,17]="S74"
  col[4,18]="S75"
  col[4,19]="S76"
  col[4,20]="S20"
  col[4,21]="S21"
  col[4,22]="S22"
  col[4,23]="S23"
  col[4,24]="S24"
  col[4,25]="S25"
  col[4,26]="S26"
  col[4,27]="S27"
  col[4,28]="S40"
  col[4,29]="S28"
  col[4,30]="S42"
  col[4,31]="S29"
  col[4,32]="S43"
  col[4,33]="S44"
  col[4,34]="S45"
  col[4,35]="S46"
  col[4,36]="S60"
  col[4,37]="S47"
  col[4,38]="S61"
  col[4,39]="S48"
  col[4,40]="S62"
  col[4,41]="S49"
  col[4,42]="S63"
  col[4,43]="S64"
  col[4,44]="S65"
  col[4,45]="S2"
  col[4,46]="S66"
  col[4,47]="S3"
  col[4,48]="S67"
  col[4,49]="S4"
  col[4,50]="S68"
  col[4,51]="S5"
  col[4,52]="S69"
  col[4,53]="S6"
  col[4,54]="S7"
  col[4,55]="S8"
  col[4,56]="S9"
  col[4,57]="S10"
  col[4,58]="S11"
  col[4,59]="S12"
  col[4,60]="S13"
  col[4,61]="S14"
  col[4,62]="S16"
  col[4,63]="S17"
  col[4,64]="S30"
  col[4,65]="S18"
  col[4,66]="S31"
  col[4,67]="S19"
  col[4,68]="S33"
  col[4,69]="S34"
  col[4,70]="S35"

  col_l[4]=70

  col[5,1]="GPU31"
  col[5,2]="GPU22"
  col[5,3]="GPU13"
  col[5,4]="GPU32"
  col[5,5]="GPU23"
  col[5,6]="GPU14"
  col[5,7]="GPU24"
  col[5,8]="GPU33"
  col[5,9]="GPU15"
  col[5,10]="GPU1"
  col[5,11]="GPU34"
  col[5,12]="GPU16"
  col[5,13]="GPU2"
  col[5,14]="GPU25"
  col[5,15]="GPU26"
  col[5,16]="GPU35"
  col[5,17]="GPU17"
  col[5,18]="GPU3"
  col[5,19]="GPU36"
  col[5,20]="GPU27"
  col[5,21]="GPU4"
  col[5,22]="GPU18"
  col[5,23]="GPU5"
  col[5,24]="GPU28"
  col[5,25]="GPU19"
  col[5,26]="GPU29"
  col[5,27]="GPU6"
  col[5,28]="GPU7"
  col[5,29]="GPU8"
  col[5,30]="GPU9"
  col[5,31]="GPU10"
  col[5,32]="GPU11"
  col[5,33]="GPU20"
  col[5,34]="GPU30"
  col[5,35]="GPU21"
  col[5,36]="GPU12"

  col_l[5]=36

  col[6,1]="17"
  col[6,2]="18"
  col[6,3]="27"
  col[6,4]="15.4"
  col[6,5]="10"
  col[6,6]="11"
  col[6,7]="21"
  col[6,8]="12"
  col[6,9]="13"
  col[6,10]="DT"
  col[6,11]="23"
  col[6,12]="14"
  col[6,13]="15"
  col[6,14]="16"

  col_l[6]=14

  col[7,1]="QHD+"
  col[7,2]="HD+"
  col[7,3]="UHD"
  col[7,4]="FHD+"
  col[7,5]="FHD"
  col[7,6]="DT"
  col[7,7]="HD"
  col[7,8]="UHD+"
  col[7,9]="QHD"

  col_l[7]=9

  col[8,1]="Touch"
  col[8,2]="Non-Touch"
  col[8,3]="DT"

  col_l[8]=3

  col[9,1]="Laptop"
  col[9,2]="Desktop"

  col_l[9]=2

  col[10,1]="CN"
  col[10,2]="UK"
  col[10,3]="BR"
  col[10,4]="AU"
  col[10,5]="DE"
  col[10,6]="IN"
  col[10,7]="FR"
  col[10,8]="JP"
  col[10,9]="US"

  col_l[10]=9
}

{ for(i=1;i<=NF;i++) {
    if($i=="") {
      print $11 # price
      print col_l[i] # num lines in category
      print $1 # idx
       for(l=1;l<=col_l[i];l++) { # lines w/ categories permuted
         s=""
        for(j=2;j<NF;j++) {
          s=s "," (j==i ? col[i,l] : $j)
        } # j
        s=substr(s,2) # skip leading blank
        gsub(" ","",s)
        print s
      } #l
    } # if
  } # i
}
